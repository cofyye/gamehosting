<main class="w-full max-w-md mx-auto p-6">
  <div class="mt-7 bg-white border border-gray-200 rounded-xl shadow-sm">
    <div class="p-4 sm:p-7">
      <div class="text-center">
        <h1 class="block text-2xl font-bold text-gray-800">
          Reset your password
        </h1>
      </div>

      <div class="mt-5">
        <!-- Form -->
        <form [formGroup]="resetPasswordForm">
          <!-- Grid with 2 cols -->
          <div class="grid gap-y-4">
            <!-- Form Group Password -->
            <div>
              <div class="relative">
                <input
                  type="password"
                  id="hs-floating-input-password-value"
                  class="peer p-4 block w-full border-gray-200 rounded-lg text-sm placeholder:text-transparent focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none focus:pt-6 focus:pb-2 [&:not(:placeholder-shown)]:pt-6 [&:not(:placeholder-shown)]:pb-2 autofill:pt-6 autofill:pb-2 pr-14"
                  placeholder=""
                  autocomplete="false"
                  required
                  formControlName="password"
                  [ngClass]="
                    resetPasswordForm.controls['password'].invalid &&
                    (resetPasswordForm.controls['password'].dirty ||
                      resetPasswordForm.controls['password'].touched)
                      ? 'input-invalid'
                      : resetPasswordForm.controls['password'].valid
                      ? 'input-valid'
                      : ''
                  "
                />
                <label
                  for="hs-floating-input-password-value"
                  class="absolute top-0 start-0 p-4 h-full text-sm truncate pointer-events-none transition ease-in-out duration-100 border border-transparent origin-[0_0] peer-disabled:opacity-50 peer-disabled:pointer-events-none peer-focus:scale-90 peer-focus:translate-x-0.5 peer-focus:-translate-y-1.5 peer-focus:text-gray-500 peer-[:not(:placeholder-shown)]:scale-90 peer-[:not(:placeholder-shown)]:translate-x-0.5 peer-[:not(:placeholder-shown)]:-translate-y-1.5 peer-[:not(:placeholder-shown)]:text-gray-500"
                  >Password</label
                >

                <!-- Failure Input -->
                <div
                  class="absolute inset-y-0 end-0 flex items-center pointer-events-none pe-3"
                  *ngIf="
                    resetPasswordForm.controls['password'].invalid &&
                    (resetPasswordForm.controls['password'].dirty ||
                      resetPasswordForm.controls['password'].touched)
                  "
                >
                  <svg
                    class="shrink-0 size-4 text-red-500"
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="3"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="12" x2="12" y1="8" y2="12"></line>
                    <line x1="12" x2="12.01" y1="16" y2="16"></line>
                  </svg>
                </div>

                <!-- Success Input -->
                <div
                  class="absolute inset-y-0 end-0 flex items-center pointer-events-none pe-3"
                  *ngIf="
                    resetPasswordForm.controls['password'].invalid &&
                    (resetPasswordForm.controls['password'].dirty ||
                      resetPasswordForm.controls['password'].touched)
                      ? false
                      : resetPasswordForm.controls['password'].valid
                      ? true
                      : false
                  "
                >
                  <svg
                    class="shrink-0 size-4 text-teal-500"
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="3"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <polyline points="20 6 9 17 4 12"></polyline>
                  </svg>
                </div>

                <button
                  type="button"
                  data-hs-toggle-password='{"target": "#hs-floating-input-password-value"}'
                  class="absolute inset-y-0 end-0 flex items-center z-20 px-3 cursor-pointer text-gray-400 rounded-e-md focus:outline-none focus:text-blue-600"
                  [ngClass]="
                    (resetPasswordForm.controls['password'].invalid &&
                      (resetPasswordForm.controls['password'].dirty ||
                        resetPasswordForm.controls['password'].touched)) ||
                    resetPasswordForm.controls['password'].valid
                      ? 'end-6'
                      : 'end-0'
                  "
                >
                  <svg
                    class="shrink-0 size-3.5"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <path
                      class="hs-password-active:hidden"
                      d="M9.88 9.88a3 3 0 1 0 4.24 4.24"
                    ></path>
                    <path
                      class="hs-password-active:hidden"
                      d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"
                    ></path>
                    <path
                      class="hs-password-active:hidden"
                      d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"
                    ></path>
                    <line
                      class="hs-password-active:hidden"
                      x1="2"
                      x2="22"
                      y1="2"
                      y2="22"
                    ></line>
                    <path
                      class="hidden hs-password-active:block"
                      d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"
                    ></path>
                    <circle
                      class="hidden hs-password-active:block"
                      cx="12"
                      cy="12"
                      r="3"
                    ></circle>
                  </svg>
                </button>
                <div
                  id="hs-strong-password-popover"
                  class="hidden absolute z-30 w-full bg-white shadow-md rounded-lg p-4"
                >
                  <div
                    id="hs-strong-password-in-popover"
                    data-hs-strong-password='{
                                       "target": "#hs-floating-input-password-value",
                                       "hints": "#hs-strong-password-popover",
                                       "stripClasses": "hs-strong-password:opacity-100 hs-strong-password-accepted:bg-teal-500 h-2 flex-auto rounded-full bg-blue-500 opacity-50 mx-1",
                                       "mode": "popover"
                                   }'
                    class="flex mt-2 -mx-1"
                  ></div>

                  <h4 class="mt-3 text-sm font-semibold text-gray-800">
                    Your password must contain:
                  </h4>

                  <ul class="space-y-1 text-sm text-gray-500">
                    <li
                      data-hs-strong-password-hints-rule-text="min-length"
                      class="hs-strong-password-active:text-teal-500 flex items-center gap-x-2"
                    >
                      <span class="hidden" data-check="">
                        <svg
                          class="shrink-0 size-4"
                          xmlns="http://www.w3.org/2000/svg"
                          width="24"
                          height="24"
                          viewBox="0 0 24 24"
                          fill="none"
                          stroke="currentColor"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        >
                          <polyline points="20 6 9 17 4 12"></polyline>
                        </svg>
                      </span>
                      <span data-uncheck="">
                        <svg
                          class="shrink-0 size-4"
                          xmlns="http://www.w3.org/2000/svg"
                          width="24"
                          height="24"
                          viewBox="0 0 24 24"
                          fill="none"
                          stroke="currentColor"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        >
                          <path d="M18 6 6 18"></path>
                          <path d="m6 6 12 12"></path>
                        </svg>
                      </span>
                      Minimum number of characters is 6.
                    </li>
                    <li
                      data-hs-strong-password-hints-rule-text="lowercase"
                      class="hs-strong-password-active:text-teal-500 flex items-center gap-x-2"
                    >
                      <span class="hidden" data-check="">
                        <svg
                          class="shrink-0 size-4"
                          xmlns="http://www.w3.org/2000/svg"
                          width="24"
                          height="24"
                          viewBox="0 0 24 24"
                          fill="none"
                          stroke="currentColor"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        >
                          <polyline points="20 6 9 17 4 12"></polyline>
                        </svg>
                      </span>
                      <span data-uncheck="">
                        <svg
                          class="shrink-0 size-4"
                          xmlns="http://www.w3.org/2000/svg"
                          width="24"
                          height="24"
                          viewBox="0 0 24 24"
                          fill="none"
                          stroke="currentColor"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        >
                          <path d="M18 6 6 18"></path>
                          <path d="m6 6 12 12"></path>
                        </svg>
                      </span>
                      Should contain lowercase.
                    </li>
                    <li
                      data-hs-strong-password-hints-rule-text="uppercase"
                      class="hs-strong-password-active:text-teal-500 flex items-center gap-x-2"
                    >
                      <span class="hidden" data-check="">
                        <svg
                          class="shrink-0 size-4"
                          xmlns="http://www.w3.org/2000/svg"
                          width="24"
                          height="24"
                          viewBox="0 0 24 24"
                          fill="none"
                          stroke="currentColor"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        >
                          <polyline points="20 6 9 17 4 12"></polyline>
                        </svg>
                      </span>
                      <span data-uncheck="">
                        <svg
                          class="shrink-0 size-4"
                          xmlns="http://www.w3.org/2000/svg"
                          width="24"
                          height="24"
                          viewBox="0 0 24 24"
                          fill="none"
                          stroke="currentColor"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        >
                          <path d="M18 6 6 18"></path>
                          <path d="m6 6 12 12"></path>
                        </svg>
                      </span>
                      Should contain uppercase.
                    </li>
                    <li
                      data-hs-strong-password-hints-rule-text="numbers"
                      class="hs-strong-password-active:text-teal-500 flex items-center gap-x-2"
                    >
                      <span class="hidden" data-check="">
                        <svg
                          class="shrink-0 size-4"
                          xmlns="http://www.w3.org/2000/svg"
                          width="24"
                          height="24"
                          viewBox="0 0 24 24"
                          fill="none"
                          stroke="currentColor"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        >
                          <polyline points="20 6 9 17 4 12"></polyline>
                        </svg>
                      </span>
                      <span data-uncheck="">
                        <svg
                          class="shrink-0 size-4"
                          xmlns="http://www.w3.org/2000/svg"
                          width="24"
                          height="24"
                          viewBox="0 0 24 24"
                          fill="none"
                          stroke="currentColor"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        >
                          <path d="M18 6 6 18"></path>
                          <path d="m6 6 12 12"></path>
                        </svg>
                      </span>
                      Should contain numbers.
                    </li>
                    <li
                      data-hs-strong-password-hints-rule-text="special-characters"
                      class="hs-strong-password-active:text-teal-500 flex items-center gap-x-2"
                    >
                      <span class="hidden" data-check="">
                        <svg
                          class="shrink-0 size-4"
                          xmlns="http://www.w3.org/2000/svg"
                          width="24"
                          height="24"
                          viewBox="0 0 24 24"
                          fill="none"
                          stroke="currentColor"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        >
                          <polyline points="20 6 9 17 4 12"></polyline>
                        </svg>
                      </span>
                      <span data-uncheck="">
                        <svg
                          class="shrink-0 size-4"
                          xmlns="http://www.w3.org/2000/svg"
                          width="24"
                          height="24"
                          viewBox="0 0 24 24"
                          fill="none"
                          stroke="currentColor"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        >
                          <path d="M18 6 6 18"></path>
                          <path d="m6 6 12 12"></path>
                        </svg>
                      </span>
                      Should contain special characters.
                    </li>
                  </ul>
                </div>
              </div>
              <p
                class="text-sm text-red-600 mt-2"
                *ngIf="
                  resetPasswordForm.controls['password'].invalid &&
                  (resetPasswordForm.controls['password'].dirty ||
                    resetPasswordForm.controls['password'].touched)
                "
              >
                {{
                  resetPasswordForm.controls['password'].errors?.['required'] && 'The password field must not be empty.' ||
                  resetPasswordForm.controls['password'].errors?.['minlength'] && 'The password must contain at least 6 characters.' ||
                  resetPasswordForm.controls['password'].errors?.['maxlength'] && 'The password must contain a maximum of 32 characters.' ||
                  resetPasswordForm.controls['password'].errors?.['nonLowercase'] && 'The password must contain at least one lowercase letter.' ||
                  resetPasswordForm.controls['password'].errors?.['nonUppercase'] && 'The password must contain at least one uppercase letter.' ||
                  resetPasswordForm.controls['password'].errors?.['nonNumber'] && 'The password must contain at least one number.' ||
                  resetPasswordForm.controls['password'].errors?.['nonSpecialChar'] && 'The password must contain at least one special character.'
                }}
              </p>
            </div>

            <!-- Form Group Confirm Password -->
            <div>
              <div class="relative">
                <input
                  type="password"
                  id="hs-floating-input-confirmPassword-value"
                  class="peer p-4 block w-full border-gray-200 rounded-lg text-sm placeholder:text-transparent focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none focus:pt-6 focus:pb-2 [&:not(:placeholder-shown)]:pt-6 [&:not(:placeholder-shown)]:pb-2 autofill:pt-6 autofill:pb-2"
                  placeholder=""
                  autocomplete="false"
                  required
                  formControlName="confirmPassword"
                  [ngClass]="
                    resetPasswordForm.controls['confirmPassword'].invalid &&
                    (resetPasswordForm.controls['confirmPassword'].dirty ||
                      resetPasswordForm.controls['confirmPassword'].touched)
                      ? 'border-red-500 focus:border-red-500 focus:ring-red-500'
                      : resetPasswordForm.controls['confirmPassword'].valid
                      ? 'border-teal-500 focus:border-teal-500 focus:ring-teal-500'
                      : ''
                  "
                />
                <label
                  for="hs-floating-input-confirmPassword-value"
                  class="absolute top-0 start-0 p-4 h-full text-sm truncate pointer-events-none transition ease-in-out duration-100 border border-transparent origin-[0_0] peer-disabled:opacity-50 peer-disabled:pointer-events-none peer-focus:scale-90 peer-focus:translate-x-0.5 peer-focus:-translate-y-1.5 peer-focus:text-gray-500 peer-[:not(:placeholder-shown)]:scale-90 peer-[:not(:placeholder-shown)]:translate-x-0.5 peer-[:not(:placeholder-shown)]:-translate-y-1.5 peer-[:not(:placeholder-shown)]:text-gray-500"
                  >Confirm Password</label
                >

                <!-- Failure Input -->
                <div
                  class="absolute inset-y-0 end-0 flex items-center pointer-events-none pe-3"
                  *ngIf="
                    resetPasswordForm.controls['confirmPassword'].invalid &&
                    (resetPasswordForm.controls['confirmPassword'].dirty ||
                      resetPasswordForm.controls['confirmPassword'].touched)
                  "
                >
                  <svg
                    class="shrink-0 size-4 text-red-500"
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="3"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="12" x2="12" y1="8" y2="12"></line>
                    <line x1="12" x2="12.01" y1="16" y2="16"></line>
                  </svg>
                </div>

                <!-- Success Input -->
                <div
                  class="absolute inset-y-0 end-0 flex items-center pointer-events-none pe-3"
                  *ngIf="
                    resetPasswordForm.controls['confirmPassword'].invalid &&
                    (resetPasswordForm.controls['confirmPassword'].dirty ||
                      resetPasswordForm.controls['confirmPassword'].touched)
                      ? false
                      : resetPasswordForm.controls['confirmPassword'].valid
                      ? true
                      : false
                  "
                >
                  <svg
                    class="shrink-0 size-4 text-teal-500"
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="3"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <polyline points="20 6 9 17 4 12"></polyline>
                  </svg>
                </div>

                <button
                  type="button"
                  data-hs-toggle-password='{"target": "#hs-floating-input-confirmPassword-value"}'
                  class="absolute inset-y-0 end-0 flex items-center z-20 px-3 cursor-pointer text-gray-400 rounded-e-md focus:outline-none focus:text-blue-600"
                  [ngClass]="
                    (resetPasswordForm.controls['confirmPassword'].invalid &&
                      (resetPasswordForm.controls['confirmPassword'].dirty ||
                        resetPasswordForm.controls['confirmPassword']
                          .touched)) ||
                    resetPasswordForm.controls['confirmPassword'].valid
                      ? 'end-6'
                      : 'end-0'
                  "
                >
                  <svg
                    class="shrink-0 size-3.5"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <path
                      class="hs-password-active:hidden"
                      d="M9.88 9.88a3 3 0 1 0 4.24 4.24"
                    ></path>
                    <path
                      class="hs-password-active:hidden"
                      d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"
                    ></path>
                    <path
                      class="hs-password-active:hidden"
                      d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"
                    ></path>
                    <line
                      class="hs-password-active:hidden"
                      x1="2"
                      x2="22"
                      y1="2"
                      y2="22"
                    ></line>
                    <path
                      class="hidden hs-password-active:block"
                      d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"
                    ></path>
                    <circle
                      class="hidden hs-password-active:block"
                      cx="12"
                      cy="12"
                      r="3"
                    ></circle>
                  </svg>
                </button>
              </div>
              <p
                class="text-sm text-red-600 mt-2"
                *ngIf="
                  resetPasswordForm.controls['confirmPassword'].invalid &&
                  (resetPasswordForm.controls['confirmPassword'].dirty ||
                    resetPasswordForm.controls['confirmPassword'].touched)
                "
              >
                {{
                    resetPasswordForm.controls['confirmPassword'].errors?.['required'] && 'The confirm password field must not be empty.' ||
                    resetPasswordForm.controls['confirmPassword'].errors?.['minlength'] && 'The confirm password must contain at least 6 characters.' ||
                    resetPasswordForm.controls['confirmPassword'].errors?.['maxlength'] && 'The confirm password must contain a maximum of 32 characters.' ||
                    resetPasswordForm.controls['confirmPassword'].errors?.['nonLowercase'] && 'The confirm password must contain at least one lowercase letter.' ||
                    resetPasswordForm.controls['confirmPassword'].errors?.['nonUppercase'] && 'The confirm password must contain at least one uppercase letter.' ||
                    resetPasswordForm.controls['confirmPassword'].errors?.['nonNumber'] && 'The confirm password must contain at least one number.' ||
                    resetPasswordForm.controls['confirmPassword'].errors?.['nonSpecialChar'] && 'The confirm password must contain at least one special character.'
                }}
              </p>
            </div>
          </div>

          <button
            type="submit"
            class="w-full mt-5 py-3 px-4 inline-flex justify-center items-center gap-x-2 text-sm font-medium rounded-lg border border-transparent bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:bg-blue-700 disabled:opacity-50 disabled:pointer-events-none"
            (click)="onResetPassword()"
            [disabled]="isLoadingResetPassword"
          >
            <div
              class="absolute animate-spin inline-block size-4 border-[2px] border-current border-t-transparent text-white rounded-full"
              role="status"
              aria-label="loading"
              *ngIf="isLoadingResetPassword"
            >
              <span class="sr-only">Loading...</span>
            </div>
            <span [ngClass]="isLoadingResetPassword ? 'invisible' : 'visible'"
              >Reset your password</span
            >
          </button>
        </form>
        <!-- End Form -->
      </div>
    </div>
  </div>
</main>
